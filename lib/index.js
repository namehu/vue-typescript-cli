#!/usr/bin/env node
"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("fs")),r=e(require("path")),n=e(require("commander")),a=e(require("mkdirp")),o=e(require("tpl_apply")),i=e(require("chalk")),c=e(require("ora"));var s=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,o=Object.create(a.prototype),i=new b(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=y(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var _=s(e,t,r);if("normal"===_.type){if(n=r.done?"completed":"suspendedYield",_.arg===l)continue;return{value:_.arg,done:r.done}}"throw"===_.type&&(n="completed",r.method="throw",r.arg=_.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function _(){}function u(){}function f(){}var p={};p[a]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==t&&r.call(m,a)&&(p=m);var h=f.prototype=_.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function d(e){var t;this._invoke=function(n,a){function o(){return new Promise((function(t,o){!function t(n,a,o,i){var c=s(e[n],e,a);if("throw"!==c.type){var l=c.arg,_=l.value;return _&&"object"==typeof _&&r.call(_,"__await")?Promise.resolve(_.__await).then((function(e){t("next",e,o,i)}),(function(e){t("throw",e,o,i)})):Promise.resolve(_).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,i)}))}i(c.arg)}(n,a,t,o)}))}return t=t?t.then(o,o):o()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return u.prototype=h.constructor=f,f.constructor=u,f[i]=u.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},g(d.prototype),d.prototype[o]=function(){return this},e.AsyncIterator=d,e.async=function(t,r,n,a){var o=new d(c(t,r,n,a));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(h),h[i]="Generator",h[a]=function(){return this},h.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));function l(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}var _=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,c,"next",e)}function c(e){l(o,n,a,i,c,"throw",e)}i(void 0)}))}};var u=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}};var f=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var p=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var v=function(e){return u(e)||f(e)||p()},m={dots:{interval:80,frames:["â ‹","â ™","â ¹","â ¸","â ¼","â ´","â ¦","â §","â ‡","â "]},dots2:{interval:80,frames:["â£¾","â£½","â£»","â¢¿","â¡¿","â£Ÿ","â£¯","â£·"]},dots3:{interval:80,frames:["â ‹","â ™","â š","â ž","â –","â ¦","â ´","â ²","â ³","â “"]},dots4:{interval:80,frames:["â „","â †","â ‡","â ‹","â ™","â ¸","â °","â  ","â °","â ¸","â ™","â ‹","â ‡","â †"]},dots5:{interval:80,frames:["â ‹","â ™","â š","â ’","â ‚","â ‚","â ’","â ²","â ´","â ¦","â –","â ’","â ","â ","â ’","â “","â ‹"]},dots6:{interval:80,frames:["â ","â ‰","â ™","â š","â ’","â ‚","â ‚","â ’","â ²","â ´","â ¤","â „","â „","â ¤","â ´","â ²","â ’","â ‚","â ‚","â ’","â š","â ™","â ‰","â "]},dots7:{interval:80,frames:["â ˆ","â ‰","â ‹","â “","â ’","â ","â ","â ’","â –","â ¦","â ¤","â  ","â  ","â ¤","â ¦","â –","â ’","â ","â ","â ’","â “","â ‹","â ‰","â ˆ"]},dots8:{interval:80,frames:["â ","â ","â ‰","â ™","â š","â ’","â ‚","â ‚","â ’","â ²","â ´","â ¤","â „","â „","â ¤","â  ","â  ","â ¤","â ¦","â –","â ’","â ","â ","â ’","â “","â ‹","â ‰","â ˆ","â ˆ"]},dots9:{interval:80,frames:["â¢¹","â¢º","â¢¼","â£¸","â£‡","â¡§","â¡—","â¡"]},dots10:{interval:80,frames:["â¢„","â¢‚","â¢","â¡","â¡ˆ","â¡","â¡ "]},dots11:{interval:100,frames:["â ","â ‚","â „","â¡€","â¢€","â  ","â ","â ˆ"]},dots12:{interval:80,frames:["â¢€â €","â¡€â €","â „â €","â¢‚â €","â¡‚â €","â …â €","â¢ƒâ €","â¡ƒâ €","â â €","â¢‹â €","â¡‹â €","â â ","â¢‹â ","â¡‹â ","â â ‰","â ‹â ‰","â ‹â ‰","â ‰â ™","â ‰â ™","â ‰â ©","â ˆâ¢™","â ˆâ¡™","â¢ˆâ ©","â¡€â¢™","â „â¡™","â¢‚â ©","â¡‚â¢˜","â …â¡˜","â¢ƒâ ¨","â¡ƒâ¢","â â¡","â¢‹â  ","â¡‹â¢€","â â¡","â¢‹â ","â¡‹â ","â â ‰","â ‹â ‰","â ‹â ‰","â ‰â ™","â ‰â ™","â ‰â ©","â ˆâ¢™","â ˆâ¡™","â ˆâ ©","â €â¢™","â €â¡™","â €â ©","â €â¢˜","â €â¡˜","â €â ¨","â €â¢","â €â¡","â €â  ","â €â¢€","â €â¡€"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["â ‚","-","â€“","â€”","â€“","-"]},pipe:{interval:100,frames:["â”¤","â”˜","â”´","â””","â”œ","â”Œ","â”¬","â”"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["âœ¶","âœ¸","âœ¹","âœº","âœ¹","âœ·"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","Â´","-","_","_","_"]},hamburger:{interval:100,frames:["â˜±","â˜²","â˜´"]},growVertical:{interval:120,frames:["â–","â–ƒ","â–„","â–…","â–†","â–‡","â–†","â–…","â–„","â–ƒ"]},growHorizontal:{interval:120,frames:["â–","â–Ž","â–","â–Œ","â–‹","â–Š","â–‰","â–Š","â–‹","â–Œ","â–","â–Ž"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","Â°","O","o","."]},noise:{interval:100,frames:["â–“","â–’","â–‘"]},bounce:{interval:120,frames:["â ","â ‚","â „","â ‚"]},boxBounce:{interval:120,frames:["â––","â–˜","â–","â–—"]},boxBounce2:{interval:100,frames:["â–Œ","â–€","â–","â–„"]},triangle:{interval:50,frames:["â—¢","â—£","â—¤","â—¥"]},arc:{interval:100,frames:["â—œ","â— ","â—","â—ž","â—¡","â—Ÿ"]},circle:{interval:120,frames:["â—¡","âŠ™","â— "]},squareCorners:{interval:180,frames:["â—°","â—³","â—²","â—±"]},circleQuarters:{interval:120,frames:["â—´","â—·","â—¶","â—µ"]},circleHalves:{interval:50,frames:["â—","â—“","â—‘","â—’"]},squish:{interval:100,frames:["â•«","â•ª"]},toggle:{interval:250,frames:["âŠ¶","âŠ·"]},toggle2:{interval:80,frames:["â–«","â–ª"]},toggle3:{interval:120,frames:["â–¡","â– "]},toggle4:{interval:100,frames:["â– ","â–¡","â–ª","â–«"]},toggle5:{interval:100,frames:["â–®","â–¯"]},toggle6:{interval:300,frames:["á€","á€"]},toggle7:{interval:80,frames:["â¦¾","â¦¿"]},toggle8:{interval:100,frames:["â—","â—Œ"]},toggle9:{interval:100,frames:["â—‰","â—Ž"]},toggle10:{interval:100,frames:["ãŠ‚","ãŠ€","ãŠ"]},toggle11:{interval:50,frames:["â§‡","â§†"]},toggle12:{interval:120,frames:["â˜—","â˜–"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["â†","â†–","â†‘","â†—","â†’","â†˜","â†“","â†™"]},arrow2:{interval:80,frames:["â¬†ï¸ ","â†—ï¸ ","âž¡ï¸ ","â†˜ï¸ ","â¬‡ï¸ ","â†™ï¸ ","â¬…ï¸ ","â†–ï¸ "]},arrow3:{interval:120,frames:["â–¹â–¹â–¹â–¹â–¹","â–¸â–¹â–¹â–¹â–¹","â–¹â–¸â–¹â–¹â–¹","â–¹â–¹â–¸â–¹â–¹","â–¹â–¹â–¹â–¸â–¹","â–¹â–¹â–¹â–¹â–¸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( â—    )","(  â—   )","(   â—  )","(    â— )","(     â—)","(    â— )","(   â—  )","(  â—   )","( â—    )","(â—     )"]},smiley:{interval:200,frames:["ðŸ˜„ ","ðŸ˜ "]},monkey:{interval:300,frames:["ðŸ™ˆ ","ðŸ™ˆ ","ðŸ™‰ ","ðŸ™Š "]},hearts:{interval:100,frames:["ðŸ’› ","ðŸ’™ ","ðŸ’œ ","ðŸ’š ","â¤ï¸ "]},clock:{interval:100,frames:["ðŸ•› ","ðŸ• ","ðŸ•‘ ","ðŸ•’ ","ðŸ•“ ","ðŸ•” ","ðŸ•• ","ðŸ•– ","ðŸ•— ","ðŸ•˜ ","ðŸ•™ ","ðŸ•š "]},earth:{interval:180,frames:["ðŸŒ ","ðŸŒŽ ","ðŸŒ "]},moon:{interval:80,frames:["ðŸŒ‘ ","ðŸŒ’ ","ðŸŒ“ ","ðŸŒ” ","ðŸŒ• ","ðŸŒ– ","ðŸŒ— ","ðŸŒ˜ "]},runner:{interval:140,frames:["ðŸš¶ ","ðŸƒ "]},pong:{interval:80,frames:["â–â ‚       â–Œ","â–â ˆ       â–Œ","â– â ‚      â–Œ","â– â        â–Œ","â–  â¡€     â–Œ","â–  â       â–Œ","â–   â ‚    â–Œ","â–   â ˆ    â–Œ","â–    â ‚   â–Œ","â–    â     â–Œ","â–     â¡€  â–Œ","â–     â    â–Œ","â–      â ‚ â–Œ","â–      â ˆ â–Œ","â–       â ‚â–Œ","â–       â  â–Œ","â–       â¡€â–Œ","â–      â   â–Œ","â–      â ‚ â–Œ","â–     â ˆ  â–Œ","â–     â ‚  â–Œ","â–    â     â–Œ","â–    â¡€   â–Œ","â–   â      â–Œ","â–   â ‚    â–Œ","â–  â ˆ     â–Œ","â–  â ‚     â–Œ","â– â        â–Œ","â– â¡€      â–Œ","â–â         â–Œ"]},shark:{interval:120,frames:["â–|\\____________â–Œ","â–_|\\___________â–Œ","â–__|\\__________â–Œ","â–___|\\_________â–Œ","â–____|\\________â–Œ","â–_____|\\_______â–Œ","â–______|\\______â–Œ","â–_______|\\_____â–Œ","â–________|\\____â–Œ","â–_________|\\___â–Œ","â–__________|\\__â–Œ","â–___________|\\_â–Œ","â–____________|\\â–Œ","â–____________/|â–Œ","â–___________/|_â–Œ","â–__________/|__â–Œ","â–_________/|___â–Œ","â–________/|____â–Œ","â–_______/|_____â–Œ","â–______/|______â–Œ","â–_____/|_______â–Œ","â–____/|________â–Œ","â–___/|_________â–Œ","â–__/|__________â–Œ","â–_/|___________â–Œ","â–/|____________â–Œ"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["â˜€ï¸ ","â˜€ï¸ ","â˜€ï¸ ","ðŸŒ¤ ","â›…ï¸ ","ðŸŒ¥ ","â˜ï¸ ","ðŸŒ§ ","ðŸŒ¨ ","ðŸŒ§ ","ðŸŒ¨ ","ðŸŒ§ ","ðŸŒ¨ ","â›ˆ ","ðŸŒ¨ ","ðŸŒ§ ","ðŸŒ¨ ","â˜ï¸ ","ðŸŒ¥ ","â›…ï¸ ","ðŸŒ¤ ","â˜€ï¸ ","â˜€ï¸ "]},christmas:{interval:400,frames:["ðŸŒ²","ðŸŽ„"]},grenade:{interval:80,frames:["ØŒ   ","â€²   "," Â´ "," â€¾ ","  â¸Œ","  â¸Š","  |","  âŽ","  â•"," à·´ ","  â“","   ","   ","   "]},point:{interval:125,frames:["âˆ™âˆ™âˆ™","â—âˆ™âˆ™","âˆ™â—âˆ™","âˆ™âˆ™â—","âˆ™âˆ™âˆ™"]},layer:{interval:150,frames:["-","=","â‰¡"]}},h=c({text:i.blue("generate begin"),spinner:m.dots});function g(e){var r=!1;try{t.statSync(e).isFile()&&(r=!0)}catch(e){throw e}return r&&h.fail(i.red("File already exists: Unable to create ".concat(e))),r}function d(e){var r=!1;try{r=t.statSync(e).isDirectory()}catch(e){}return r&&h.fail(i.red("Folder already exists: Unable to create ".concat(e))),r}function y(e,t){var n=e.split("/").map((function(e){var t=e.replace(/(_|\.)/g,"-");return t=(t=(t=t.replace(/-([A-Z])/g,(function(e,t){return"-".concat(t.toLowerCase())}))).replace(/^([A-Z])/,(function(e,t){return"".concat(t.toLowerCase())}))).replace(/([A-Z])(\w)/g,(function(e,t,r){return"-".concat(t.toLowerCase()).concat(r)}))})),a=n[n.length-1],o=b(a);return{file_name:a,fileName:o,filePascalName:x(o),filePath:r.resolve.apply(r,[t].concat(v(n)))}}function w(e,t){var n=e.split("/").map((function(e){var t=e.replace(/(_|\.)/g,"-");return t=(t=(t=t.replace(/-([A-Z])/g,(function(e,t){return"-".concat(t.toLowerCase())}))).replace(/^([A-Z])/,(function(e,t){return"".concat(t.toLowerCase())}))).replace(/([A-Z])(\w)/g,(function(e,t,r){return"-".concat(t.toLowerCase()).concat(r)}))})),a=n.splice(-1)[0],o=b(a);return{file_name:a,fileName:o,filePascalName:x(o),filePath:r.resolve.apply(r,[t].concat(v(n)))}}function x(e){return e.replace(/^([a-z])/,(function(e,t){return"".concat(t.toUpperCase())}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[-_](\w)/g,(function(e,t){return t.toUpperCase()}))}function j(e,t){return L.apply(this,arguments)}function L(){return(L=_(s.mark((function e(t,n){var i,c,l,_,u,f,p,v=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>2&&void 0!==v[2]&&v[2],c=y(t,n),l=c.file_name,_=c.filePascalName,u=c.filePath,h.start("".concat(u," is generating......")),!d(u)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,a(u);case 7:if(f={kebabCaseName:l,filePascalName:_},p=r.join(__dirname,"../templates/component"),[],(i?[{source:"scss.tpl",dest:"".concat(l,".scss")},{source:"html.tpl",dest:"".concat(l,".render.html")},{source:"index-with-service.tpl",dest:"index.ts"},{source:"service.tpl",dest:"".concat(l,".service.ts")}]:[{source:"scss.tpl",dest:"".concat(l,".scss")},{source:"html.tpl",dest:"".concat(l,".render.html")},{source:"index.tpl",dest:"index.ts"}]).forEach((function(e){var t=e.source,n=e.dest;o.tpl_apply(r.join(p,t),f,r.join(u,n))})),!i){e.next=15;break}return e.next=15,a(r.join(u,"components"));case 15:h.succeed("generate ".concat(u," success"));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=_(s.mark((function e(t,n){var i,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y(t,n),c=i.filePath,h.start("".concat(c," is generating......")),!d(c)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a(c);case 6:return o.tpl_apply(r.join(__dirname,"../templates/page","main.tpl"),{},r.join(c,"main.ts")),l=c+"/components",e.next=10,a(l);case 10:return e.next=12,j("app",l,!1);case 12:h.succeed("generate ".concat(c," success"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=_(s.mark((function e(t,n){var i,c,l,_,u,f,p;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w(t,n),c=i.fileName,l=i.filePath,_=i.filePascalName,h.start("".concat(r.join(l,c)," is generating......")),u=r.join(__dirname,"../templates/vue.tpl"),!g(f=r.join(l,"".concat(_,".vue")))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a(l);case 8:o.tpl_apply(u,{filePascalName:_},f),p=r.join(l,"".concat(_,".vue")),h.succeed("Generate ".concat(p," success"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,t){return N.apply(this,arguments)}function N(){return(N=_(s.mark((function e(t,n){var i,c,l,_,u,f,p,v=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"Mixin",c=w(t,n),l=c.file_name,_=c.filePascalName,u=c.filePath,h.start("".concat(r.join(u,l)," is generating......")),f=r.join(__dirname,"../templates/mixin.tpl"),!g(p=r.join(u,"".concat(l,".").concat("Service"===i?"service":"mixin",".ts")))){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a(u);case 9:o.tpl_apply(f,{filePascalName:_,suffix:i},p),h.succeed("Generate ".concat(p," success"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=_(s.mark((function e(t,n){var i,c,l,_,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w(t,n),c=i.file_name,l=i.filePath,h.start("".concat(r.join(l,c)," is generating......")),_=r.join(__dirname,"../templates/directive.ts"),!g(u=r.join(l,"".concat(c,".directive.ts")))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a(l);case 8:o.tpl_apply(_,{},u),h.succeed("Generate ".concat(u," success"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=_(s.mark((function e(t,n){var i,c,l,_,u,f;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w(t,n),c=i.file_name,l=i.filePath,_=i.filePascalName,h.start("".concat(r.join(l,c)," is generating......")),u=r.join(__dirname,"../templates/simple-component.tpl"),!g(f=r.join(l,"".concat(c,".ts")))){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,a(l);case 8:o.tpl_apply(u,{filePascalName:_},f),h.succeed("Generate ".concat(f," success"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=require("../package.json").version;function A(){for(var e=r.resolve("./"),a=r.join(e,"package.json");!t.existsSync(a);)e=r.resolve(e,"../"),a=r.join(e,"package.json");var o=n.basePath;return o=o?!0===o?"src":o:"src",o=r.join(e,o),-1!==process.cwd().indexOf(o)&&(o=process.cwd()),o}n.command("vue <name>").description("create a .vue component with typescript").action((function(e){try{!function(e,t){P.apply(this,arguments)}(e,A())}catch(e){console.error(e)}})),n.command("mixin <name>").alias("m").description("create a mixin with typescript").action((function(e){try{E(e,A())}catch(e){console.error(e)}})),n.command("service <name>").alias("s").description("create a service with typescript").action((function(e){try{E(e,A(),"Service")}catch(e){console.error(e)}})),n.command("directive <name>").alias("d").description("create a directive with typescript").action((function(e){try{!function(e,t){O.apply(this,arguments)}(e,A())}catch(e){console.error(e)}})),n.command("component <component>").alias("c").description("create a component directory with typescript").action((function(e){try{var t=A();n.simple?function(e,t){$.apply(this,arguments)}(e,t):j(e,t,!1)}catch(e){console.error(e)}})),n.command("view <view>").alias("v").description("create a view directory with typescript").action((function(e){try{j(e,A(),!0)}catch(e){console.error(e)}})),n.command("page <name>").alias("p").description("create a page with typescript").action((function(e){try{!function(e,t){k.apply(this,arguments)}(e,A())}catch(e){console.error(e)}})),n.on("--help",(function(){console.log(""),console.log("Examples:"),console.log(""),console.log("  # show usage information"),console.log("  $  vt --help"),console.log(""),console.log("  # show version information"),console.log("  $  vt --version"),console.log(""),console.log("  # ".concat("create a view directory with typescript")),console.log("  $  vt view view-name"),console.log("  $  vt v path/to/view-name"),console.log(""),console.log("  # ".concat("create a component directory with typescript")),console.log("  $  vt component component-name"),console.log("  $  vt c path/to/component-name"),console.log(""),console.log("  # ".concat("create a .vue component with typescript")),console.log("  $  vt vue vue-name"),console.log("  $  vt vue path/to/vue-name"),console.log(""),console.log("  # ".concat("create a directive with typescript")),console.log("  $  vt directive directive-name"),console.log("  $  vt d path/to/directive-name"),console.log(""),console.log("  # ".concat("create a mixin with typescript")),console.log("  $  vt mixin mixin-name"),console.log("  $  vt m path/to/mixin-name"),console.log(""),console.log("  # ".concat("create a service with typescript")),console.log("  $  vt service service-name"),console.log("  $  vt m path/to/service-name"),console.log(""),console.log("  # ".concat("create a page with typescript")),console.log("  $  vt page page-name"),console.log("  $  vt p path/to/page-name"),console.log("")})),n.version(S).option("-B, --basePath [path]","set BasePath, default src").option("-s, --simple","create a component in single file").parse(process.argv),function(){if(n.args.length<1)n.help()}();
